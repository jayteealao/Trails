# Screenshot testing with Roborazzi

Roborazzi is wired into the `app` module's unit test configuration. The Compose
preview snapshots generated by the tests live under
`app/src/test/snapshots`. These images are ignored by version control so they
stay as local artifacts that you can inspect when reviewing UI changes.

## Regenerating the baselines

1. Ensure the Android SDK is installed locally and that either the
   `ANDROID_HOME` environment variable or `local.properties`'s `sdk.dir` points
   to it.
2. Record fresh baselines when UI changes are expected:

   ```bash
   ./gradlew testDebugUnitTest -Droborazzi.test.record
   ```

   The Roborazzi rule saves the new PNGs next to the tests under
   `app/src/test/snapshots`.
3. Verify against the recorded images during CI or local development with:

   ```bash
   ./gradlew testDebugUnitTest
   ```

   This command compares the rendered previews to the locally generated PNGs
   and fails if they drift.

## Updating the repository

Because the snapshot directory is `.gitignore`'d, do not attempt to commit the
generated PNGs. Instead, share them out of band if reviewers need to see a
visual diff.
